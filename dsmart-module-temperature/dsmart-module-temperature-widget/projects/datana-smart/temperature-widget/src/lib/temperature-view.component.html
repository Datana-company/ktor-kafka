<!--<div *ngIf="dataStream$ | async as tempModel; else noData">-->
<!--    <div class="temperature">-->
<!--        {{tempModel.displayTemp(scale)}}°{{scale}}-->
<!--    </div>-->
<!--    <div>-->
<!--        Время: {{tempModel.timeStart | date : 'dd.MM.yyyy HH:mm:ss OOOO' }}-->
<!--    </div>-->
<!--    <div>-->
<!--        Время ISO: {{tempModel.timeStart.toISOString()}}-->
<!--    </div>-->
<!--    <ul>-->
<!--        <li><a href="" (click)="setKelvin($event)">Кельвины</a></li>-->
<!--        <li><a href="" (click)="setCelsius($event)">Цельсий</a></li>-->
<!--        <li><a href="" (click)="setFarenheit($event)">Фаренгейт</a></li>-->
<!--    </ul>-->
<!--</div>-->

<!--<ng-template #noData>-->
<!--    <div class="temperature">-->
<!--        No Data-->
<!--    </div>-->
<!--</ng-template>-->

<div
    *ngIf="{ time: currentTimeStream$ | async, temperature: temperatureStream$ | async, analysis: analysisStream$ | async } as dat; else noData">
    <div class="widget-header">
        <teapot-status-component class="widget-header-status"
                                 [status]="dat.analysis?.state?.id === 'switchedOn'"
                                 [statusName]="dat.analysis?.state?.name">
        </teapot-status-component>
        <!--        <div>-->
        <!--            &lt;!&ndash; бэкенд &ndash;&gt;-->
        <!--            Время текущее: {{dat.time | date : 'dd.MM.yyyy HH:mm:ss OOOO' }}-->
        <!--        </div>-->
        <!--        <div>-->
        <!--            Время процессора: {{dat.temperature?.timeStart | date : 'dd.MM.yyyy HH:mm:ss OOOO' }}-->
        <!--        </div>-->
        <!--        <div>-->
        <!--            Время анализатора: {{dat.analysis?.actualTime | date : 'dd.MM.yyyy HH:mm:ss OOOO' }}-->
        <!--        </div>-->
    </div>
    <div class="widget-container-main widget-container">
        <div class="widget-info widget-col">
            <div class="widget-info-container widget-container">
                <temperature-boiling-component class="widget-info-boiling widget-col"
                                               [durationToBoil]="dat.analysis?.durationToBoilStr"
                                               [timeCurrent]="dat.time"
                                               [timeBackend]="dat.analysis?.backendTime"
                                               [timeActual]="dat.analysis?.actualTime">
                </temperature-boiling-component>
                <temperature-component class="widget-info-temperature widget-col"
                                       [temperature]="dat.temperature?.temperature">
                </temperature-component>
            </div>
        </div>
        <div class="widget-recommendations widget-col">
            <history-component [history]="history"></history-component>
        </div>
    </div>
</div>

<ng-template #noData>
    <div class="temperature">
        No Data
    </div>
</ng-template>
