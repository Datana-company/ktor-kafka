<div class="widget-container">
  <h4>Загрузка видеофайла</h4>
  <!--<table class="widget-container">-->
    <!--<tr>-->
      <!--<td>-->
        <!--<input type="file" (change)="setUploadFile($event.target.files)">-->
      <!--</td>-->
      <!--<td>-->
        <!--{{percentCompleted}}% Загружено-->
      <!--</td>-->
    <!--</tr>-->
    <!--<tr>-->
      <!--<td colspan="2">-->
        <!--<div *ngIf="isUploaded" class="success">-->
          <!--Файл успешно загружен.-->
        <!--</div>-->
      <!--</td>-->
    <!--</tr>-->
  <!--</table>-->

  <div *ngIf="isMultipleUploaded" class="success">Файлы успешно загружены
    <br/>
    <br/>
  </div>

  <form [formGroup]="uploadForm" (ngSubmit)="onFormSubmit()">
    <table>
      <div formArrayName="filesToUpload">
        <div *ngFor="let f of filesToUpload.controls; index as i">
          <tr>
            <td>
              <input [formControlName]="i" type="file" id="file{{i}}">
              <label *ngIf="filesToUpload.controls[i].errors?.required" class="error">
                Выберите файл.
              </label>
              <label *ngIf="filesToUpload.controls[i].errors?.inValidExt
              && !filesToUpload.controls[i].errors?.required" class="error">
                Некорректное расширение файла.
              </label>
            </td>
            <td>{{percentUploaded[i]}}% </td>
            <td>
              <button type="button" (click)="deleteFile(i)">Удалить</button>
            </td>
          </tr>
        </div>
      </div>
      <tr>
        <td colspan="3">
          <!--<button type="submit">Загрузить файлы</button>-->
          <button type="button" (click)="addMoreFiles()">Добавить файл</button>
          <button type="button" (click)="formReset()">Очистить</button>
        </td>
      </tr>
    </table>
  </form>

</div>
